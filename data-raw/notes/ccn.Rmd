---
title: "CCN Notes"
subtitle: "Numbering System for CCNs"
date: "`r Sys.Date()`"
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, comment = "")
library(ccn)
```

```{r pkg-version}
utils::packageVersion("ccn")
```


> SEC 2779A, PG 403 (som107c02.pdf)

_Rev. 152, ISS: `03-25-16`, EFF: `04-04-16`, IMP: `04-04-16`_

__CCN__ replaced the terms _Medicare Provider Number_, _Medicare Identification Number_ 
and _OSCAR Number_ in 2007. It is used to verify Medicare/Medicaid 
certification for survey and certification, assessment-related activities and 
communications. Additionally, CMS data systems use the CCN to identify each 
individual provider or supplier that has or currently does participate in Medicare 
and/or Medicaid. The RO, not the SA or MAC, assigns the CCN and maintains adequate controls.

### Medicare Providers

_[2779A] (Rev. 226; Issued: 12-06-24; Effective: 12-06-24; Implementation: 12-06-24)_


CCNs for Providers and Suppliers paid under _Medicare Part A_ have __6 digits__.

The first 2 digits identify the State in which the provider is located. The last
4 digits identify the type of facility.

The following is a list of all State Codes:

```{r states}
ccn:::STATE$CODE |> 
   ccn:::make_df(c("State", "Code")) |> 
   head(10) |> 
   knitr::kable()
```

The last 4 digits identify the facility type, sequentially from
within the following range:

```{r care-range, include=FALSE}
ccn:::MEDICARE$ABBR |> 
   ccn:::make_df(c("Facility", "Range")) |> 
   head(10) |> 
   knitr::kable()
```

_Examples_: __CMHCs in Florida__

```{r florida}
ccn("681400")
ccn("684702")
ccn("691400")
```

#### Organ Procurement Organizations (OPOs)

OPOs are assigned a 6-digit alphanumeric CCN. The first 2 digits identify the
State Code. The third digit is the alpha character "P." The remaining 3 digits
are the unique facility identifier.

```{r opo}
ccn("01P001")
ccn("05P001")
```

### Medicare Suppliers

> Section 2779A2, Page 407

_Rev. 198, ISS: `01-17-20`, EFF: `01-17-20`, IMP: `01-17-20`_

Suppliers that are paid by Part B carriers have a 10-digit alphanumeric CCN. The
first 2 digits identify the State in which the supplier is located. The third
digit is an alpha character that identifies the type of facility. The remaining
7 digits are the unique facility identifier.

The following characters in the third position indicate:

   * C - Ambulatory Surgical Centers
   * D - Clinical Laboratory Improvement Amendments of 1988 (CLIA) Laboratories
   * X - Portable X-Ray Facilities

The last 7 digits of the CCN for the above suppliers will be within the number series
`0000001-9999999`.

_Examples_:

```{r supplier}
ccn("10C0001062") # ASC
ccn("45D0634589") # CLIA
ccn("21X0009807") # Portable X-Ray
```

> More __CLIA__ examples:

```{r clia}
ccn("11D0265516") # DANIEL FELDMAN MD
ccn("02D0873639") # Artic Envestigations Program Laboratory, Anchorage, AK
ccn("40D0869394") # Dengue Laboratory, San Juan, PR
ccn("11D1061576") # CDC/CGH/DGHA International Laboratory, Atlanta, GA
ccn("11D0668319") # Infectious Diseases Laboratory, Atlanta, GA
ccn("11D0668290") # National Center for Environmental Health, Division of Laboratory Science, Atlanta, GA
ccn("06D0880233") # Vector-Borne Diseases Laboratory, Fort Collins, CO
ccn("11D2306220") # Wiregrass Georgia Tech College Student Health Center, Valdosta, GA
```


### Medicaid-Only Providers

> Section 2779B, Page 408

_Rev. 123, ISS: `10-03-14`, EFF: `10-03-14`, **IMP: `10-03-14`**_

For certification purposes, __Title XIX-Only Providers__ are identified by a 6-digit
alphanumeric CCN. The first 2 digits identify the State in which the provider is
located. The third position, which is an alpha character, identifies the type of
facility by level or type of care being provided. The last 3 digits make up a
sequential number series beginning with 001.

```{r}
ccn("01L008")
```

The RO uses the following groups of alphanumeric numbers for the type of
facility as indicated:

```{r}
list(
  "A001-A999" = "NF (Formerly assigned to Medicaid SNF)",
  "B001-B999" = "NF (Formerly assigned to Medicaid SNF) Expansion of A001-A999",
  "E001-E999" = "NF (Formerly assigned to ICF)",
  "F001-F999" = "NF (Formerly assigned to ICF) Expansion of E001-E999",
  "G001-G999" = "ICF/IID",
  "H001-H999" = "ICF/IID Expansion of G001-G999",
  "K001-K999" = "Medicaid HHAs",
  "L001-L999" = "Psychiatric Residential Treatment Facilities (PRTF)",
  "J001-J099" = "Medicaid-Only Short-term acute care hospitals",
  "J100-J199" = "Medicaid-Only Children’s Hospitals",
  "J200-J299" = "Medicaid-Only Children’s Psychiatric Hospitals",
  "J300-J399" = "Medicaid-Only Psychiatric Hospitals",
  "J400-J499" = "Medicaid-Only Rehabilitation Hospitals",
  "J500-J599" = "Medicaid-Only Long-term Hospitals",
  "J600-J999" = "Reserved for future use)"
)
```

```{r caid-range, include=FALSE}
ccn:::MEDICAID$ABBR |> 
   ccn:::make_df(c("Facility", "Range")) |> 
   head(10) |> 
   knitr::kable()
```

### Special Numbering System for Units of Hospitals That Are Excluded From the Inpatient Prospective Payment System (IPPS) and Hospitals and CAHs with Swing-Bed Approval

> Sec 2779C, Page 408

_Rev. 198, ISS: `01-17-20`, EFF: `01-17-20`, **IMP: `01-17-20`**_

An alpha character in the third position of a hospital's or CAH's CCN identifies
either its swing-bed approval or its status as an IPPS-excluded rehabilitation
or psychiatric unit. The first 2 digits identify the State in which the provider
is located. The third position (which is alpha) identifies the type of unit or
swing-bed designation. The last 3 digits must be exactly the same as the last 3
digits of the CCN of the hospital or CAH operating the unit(s), unless as noted
below in Section 2779C1. 

NOTE: As of the cost reporting period beginning on or after October 1, 2019, an
IPPS- excluded hospital is no longer precluded from having an IPPS-excluded
psychiatric and/or rehabilitation unit (see Section 2779C1 for CCN numbering).

The RO assigns the following alpha-characters in the third position as indicated:
   * M: Psychiatric Unit of a CAH
   * R: Rehabilitation Unit of a CAH
   * S: Psychiatric Unit of a Short-Term, Cancer, Children's, LTCH, or Rehabilitation Hospital
   * T: Rehabilitation Unit of a Short-Term, Cancer, Children's, LTCH, or Psychiatric Hospital
   * U: Swing-Bed Approval for Short-Term Hospitals
   * W: Swing-Bed Approval for Long-Term Care Hospitals
   * Z: Swing-Bed Approval for CAHs

EXAMPLE: 21-0101 - ABC Hospital (Short-Term Hospital)
   * 21-T101: ABC Hospital’s IPPS-excluded Rehabilitation Unit
   * 21-S101: ABC Hospital’s IPPS-excluded Psychiatric Unit
   * 21-U101- ABC Hospital’s Swing-bed Approval

NOTE: If it meets the applicable requirements, an acute care hospital or a CAH
could have swing-bed approval, an IPPS-excluded rehabilitation unit, and/ or an
IPPS-excluded psychiatric unit.

### Special Numbering System for IPPS-Excluded Hospitals with IPPS-Excluded Units

> Sec 2779C1, Page 409

_Rev. 198, ISS: `01-17-20`, EFF: `01-17-20`, **IMP: `01-17-20`**_

If an IPPS-excluded hospital also has an IPPS-excluded unit, the fourth position
within the CCN requires an additional alpha-character to identify the
IPPS-excluded unit type. 

Note: No special fourth position alpha character is needed for cancer hospitals.
The RO assigns the following alpha-characters in the fourth position as
indicated in the table below.

Note: This table does not apply to CAHs.

```{r}
"Parent IPPS-Excluded Hospital"
```



> __EXCEPTION:__ As of October 1, 2019, an IPPS-excluded hospital is no longer
precluded from having an IPPS-excluded psychiatric and/or rehabilitation unit.
See section __2779C__ and __2779C1__ for additional CCN numbering detail. 

> __Note:__ An IPPS-excluded hospital may not have an IPPS-excluded unit of the
same type (psychiatric or rehabilitation) as the hospital (for example, an
Inpatient Rehabilitation Facility (IRF) may not have an IRF unit).


# Sources

  - [CMS Manual](https://www.cms.gov/regulations-and-guidance/guidance/manuals/downloads/som107c02.pdf)
  - [ResDAC 1](https://resdac.org/cms-data/variables/full-cms-certification-number-provider)
  - [ResDAC 2](https://resdac.org/cms-data/variables/provider-number)
  - [The Joint Commission](https://manual.jointcommission.org/releases/TJC2025A/DataElem0276.html)
  - [QCOR](https://qcor.cms.gov/main.jsp)
  - [HHA Branch Identification Numbers](https://www.cms.gov/Regulations-and-Guidance/Guidance/Transmittals/Downloads/R2SOM.pdf)

# CCN Definition

The _CMS Certification Number (CCN)_ is a unique identifier assigned to
healthcare providers certified by Medicare, used for quality reporting and
verification of services. It consists of six digits, where the first two
indicate the state, and the remaining digits specify the provider type and a
unique counter.

## _ResDAC_:
The provider identification number of the institutional provider, certified
by Medicare. 

The first two digits indicate the state where the provider is located. As 
two-digit state codes have been exhausted, CMS has implemented a two-position 
alpha-numeric coding system for State Codes. 

The middle two characters indicate the type of provider. The last two digits 
are used as a __counter for the number of providers within that state__ and 
type of provider (i.e., a unique but not necessarily sequential number).

> A `V` in the 5th position identifies a __VA__ demo.

### Critical Access Hospital (CAH)
  - First two digits are the state code.
  - Third digit of `0` == __Acute Facility__.
  - Third digit of `1` && fourth digit of `3` == __CAH__.

### HHA Branch Identification Numbers

_[2779K] (Rev. 2, Issued 08-20-04, __Effective: N/A Implementation: N/A__)_

__HHA Branches__ are identified by the assignment of a __10-digit alpha-numeric number__.
Each branch is numbered with the same provider identification number as the parent 
or subunit with two modifications: 

  1. The letter `Q` will be in the third position, between the state code and 
  the 4-digit provider designation.
  2. Three additional digits are added to the end of the number. The last 3 
  digits are a one up number for each consecutive branch. These digits allow 
  the capability of assigning up to 999 branches to one parent or sub-unit HHA. 

Branch identification numbers will be used only once. In the event that an 
HHA branch closes, its unique branch identification number is terminated and 
will not be reused to identify another branch of that HHA or sub-unit.

> Example: ABC Home Health Agency has three branches. It's provider identification
number is __`017001`__. ABC's three branches would be assigned the branch 
identification numbers __`01Q7001001`__, __`01Q7001002`__, and __`01Q7001003`__.


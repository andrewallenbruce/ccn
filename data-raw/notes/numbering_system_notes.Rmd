---
title: "Numbering System for CCNs"
author: "Andrew Bruce"
date: "`r Sys.Date()`"
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ccn)
```

> Section 2779A, Page 403 (som107c02.pdf)

_Rev. 152, Issued: `03-25-16`, Effective: `04-04-16`, Implementation: `04-04-16`_

Effective in 2007, the CCN replaced the terms _Medicare Provider Number_, _Medicare
Identification Number_ or _OSCAR Number_. The CCN is used to verify
Medicare/Medicaid certification for survey and certification, assessment-related activities
and communications. Additionally, CMS data systems use the CCN to identify each
individual provider or supplier that has or currently does participate in Medicare and/or
Medicaid. The RO, not the SA or MAC, assigns the CCN and maintains adequate
controls.

## CCN for Medicare Providers

The CCN for providers and suppliers paid under Medicare Part A have 6 digits. The first
2 digits identify the State in which the provider is located. The last 4 digits identify the type of facility.

Following is a list of all State Codes:

```{r states}
ccn:::make_df(ccn:::STATE$CODE, c("state", "code")) |> 
  head() |> 
  knitr::kable()
```

Assign the last 4 digits, which identify the facility type, sequentially from within the
appropriate CCN range. In a State that has more than one State code and/or a facility type
that has more than one CCN range available, ensure that all the numbers available in one
CCN range have been assigned before implementing the use of a new State code or
numbers in a new CCN range.

Examples: CMHCs in Florida

```{r florida}
ccn("681400")
ccn("684702")
ccn("691400")
```

> __NOTE:__ Once the remaining pool of two digit State numeric codes are exhausted, 
CMS will implement a two digit alpha-numeric code system for State Codes. For example:
A0, A1, A2,... B0, B1, B2,..., Z8, and finally Z9). This numbering system will
provide a pool of 260 new State Codes for future use.

Use the following CCN ranges for the facility types indicated:

```{r ranges}
head(ccn:::make_df(ccn:::STATE$CODE, c("state", "code")), 10)
```


> __NOTE:__ Religious Nonmedical Health Care Institutions (RNHCI) are not certified by SAs. The CCN for RNHCIs are assigned by the Boston CMS RO.

> __EXCEPTION:__ Organ procurement organizations (OPOs) are assigned a 6-digit alphanumeric CCN. The first 2 digits identify the State Code. The third digit is the alpha
character "P." The remaining 3 digits are the unique facility identifier.

> __EXCEPTION:__ As of the cost reporting period beginning on or after October 1, 2019, an
IPPS-excluded hospital is no longer precluded from having an IPPS-excluded psychiatric
and/or rehabilitation unit. See section 2779C and 2779C1 for additional CCN numbering
detail. __Note:__ An IPPS-excluded hospital may not have an IPPS-excluded unit of the same
type (psychiatric or rehabilitation) as the hospital (for example, an Inpatient Rehabilitation Facility (IRF) may not have an IRF unit).

## CCN for Suppliers

> Section 2779A2, Page 407

_Rev. 198, Issued: `01-17-20`, Effective: `01-17-20`, Implementation: `01-17-20`_

Suppliers that are paid by Part B carriers have a 10-digit alphanumeric CCN. The first 2
digits identify the State in which the supplier is located. (See list of State Codes under
subsection 2779A1.) The third digit is an alpha character that identifies the type of
facility. The remaining 7 digits are the unique facility identifier. (Exception: CLIA
numbers will continue to be used for fee and certificate issuance.)

The RO assigns the following alpha-characters in the third position as indicated:

   * C - Ambulatory Surgical Centers
   * D - Clinical Laboratory Improvement Amendments of 1988 (CLIA) Laboratories
   * X - Portable X-Ray Facilities

> Exception: CLIA numbers are system generated by the database that maintains the
CLIA application.

The last 7 digits of the CCN for the above suppliers will be within the number series
`0000001-9999999`.

Examples:

```{r supplier}
# ASC
ccn("10C0001062")
# CLIA
ccn("45D0634589")
# Portable X-Ray
ccn("21X0009807")
```
